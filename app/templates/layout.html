<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>{% block title %}Zohir Location Auto{% endblock %}</title>

  <!-- âœ… Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- âœ… Style custom si besoin -->
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>

<body class="bg-[#070a12] text-white font-sans">
  <div class="flex min-h-screen">

    <!-- SIDEBAR -->
    <aside class="w-72 p-5 bg-[#0a0e1a]/70 border-r border-white/10 flex flex-col justify-between">
      <div>
        <!-- BRAND -->
        <div class="flex items-center gap-3 mb-6">
          <div class="w-11 h-11 rounded-xl flex items-center justify-center font-bold bg-gradient-to-br from-blue-500 to-purple-500">Z</div>
          <div>
            <div class="font-bold text-lg">Zohir Location Auto</div>
            <div class="text-xs text-white/60">Trello-only â€¢ DZD â€¢ Contrat FR/EN/AR</div>
          </div>
        </div>

        <!-- NAV -->
        <nav class="flex flex-col gap-2">
          <a href="{{ url_for('dashboard.dashboard') }}"
             class="flex items-center gap-3 px-3 py-2 rounded-lg border border-white/10 bg-white/5 hover:bg-blue-500/10 {% if request.path.startswith('/dashboard') %}ring-2 ring-blue-400/40{% endif %}">
            ğŸ  <span>Dashboard</span>
          </a>
          <a href="{{ url_for('bookings.index') }}"
             class="flex items-center gap-3 px-3 py-2 rounded-lg border border-white/10 bg-white/5 hover:bg-blue-500/10 {% if request.path.startswith('/bookings') %}ring-2 ring-blue-400/40{% endif %}">
            ğŸ—“ï¸ <span>RÃ©servations</span>
          </a>
          <a href="{{ url_for('clients.index') }}"
             class="flex items-center gap-3 px-3 py-2 rounded-lg border border-white/10 bg-white/5 hover:bg-blue-500/10 {% if request.path.startswith('/clients') %}ring-2 ring-blue-400/40{% endif %}">
            ğŸ‘¥ <span>Clients</span>
          </a>
          <a href="{{ url_for('vehicles.index') }}"
             class="flex items-center gap-3 px-3 py-2 rounded-lg border border-white/10 bg-white/5 hover:bg-blue-500/10 {% if request.path.startswith('/vehicles') %}ring-2 ring-blue-400/40{% endif %}">
            ğŸš— <span>VÃ©hicules</span>
          </a>
          <a href="{{ url_for('finance.index') }}"
             class="flex items-center gap-3 px-3 py-2 rounded-lg border border-white/10 bg-white/5 hover:bg-blue-500/10 {% if request.path.startswith('/finance') %}ring-2 ring-blue-400/40{% endif %}">
            ğŸ’° <span>Finance</span>
          </a>
        </nav>
      </div>

      <!-- FOOTER -->
      <div class="mt-8 space-y-4">
        <a href="{{ url_for('auth.logout') }}"
           class="flex items-center gap-3 px-3 py-2 rounded-lg border border-white/10 bg-white/5 hover:bg-red-500/20">
          â›” <span>Logout</span>
        </a>
        <div class="text-sm text-white/70 border border-white/10 p-3 rounded-lg">
          <div class="font-semibold mb-1 text-white">Tips</div>
          <ul class="list-disc list-inside space-y-1">
            <li>CrÃ©e Clients/VÃ©hicules depuis le site</li>
            <li>Ton ami utilise uniquement le site</li>
          </ul>
        </div>
      </div>
    </aside>

    <!-- MAIN -->
    <div class="flex-1 flex flex-col">

      <!-- TOPBAR -->
      <header class="flex justify-between items-center px-6 py-4 border-b border-white/10">
        <div>{% block header_left %}{% endblock %}</div>
        <div class="flex gap-3">
          <div class="bg-white/5 px-3 py-1 rounded-full border border-white/10 flex items-center gap-2">
            ğŸ‘¤ <span>{{ session.get("user_name", "User") }}</span>
          </div>
          <div class="bg-white/5 px-3 py-1 rounded-full border border-white/10 flex items-center gap-2">
            ğŸ”’ <span>{{ session.get("user_role", "user") }}</span>
          </div>
        </div>
      </header>

      <!-- FLASH -->
      <section class="p-4">
        {% with messages = get_flashed_messages(with_categories=true) %}
          {% if messages %}
            {% for category, message in messages %}
              <div class="p-3 mb-2 rounded border-l-4 text-sm
                {% if category == 'success' %} border-green-500 bg-green-500/10
                {% elif category == 'error' %} border-red-500 bg-red-500/10
                {% else %} border-gray-500 bg-white/5 {% endif %}">
                {{ message }}
              </div>
            {% endfor %}
          {% endif %}
        {% endwith %}
      </section>

      <!-- CONTENT -->
      <main class="p-6 flex-1">
        {% block content %}{% endblock %}
      </main>
    </div>
  </div>

  <!-- Scripts -->
  <script src="{{ url_for('static', filename='app.js') }}"></script>
</body>
</html>

