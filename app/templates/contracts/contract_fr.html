<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Contrat de location</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/contract_fr.css') }}">
</head>
<body>

  <div class="header">
    <div>
      <div class="brand">{{ company.name }}</div>
      <div class="meta">
        {% if company.email %} • {{ company.email }} • {% endif %}
      </div>
    </div>
    <div class="meta">
      <div><strong>Référence :</strong> {{ ref or "—" }}</div>
      <div><strong>Date :</strong> {{ now_date or "—" }}</div>
    </div>
  </div>

  <div class="title">Contrat de location de véhicule</div>
  <div class="subtitle">Document contractuel — à conserver</div>

  <div class="grid2">
    <div class="card">
      <div class="section-title">Locataire</div>
      <div class="kv">
        <div class="k">Nom</div><div class="v">{{ client.name or "—" }}</div>
        <div class="k">Téléphone</div><div class="v">{{ client.phone or "—" }}</div>
        <div class="k">Adresse</div><div class="v">{{ client.address or "—" }}</div>
        <div class="k">Document</div><div class="v">{{ client.doc_id or "—" }}</div>
        <div class="k">Permis</div><div class="v">{{ client.permit or "—" }}</div>
      </div>
    </div>

    <div class="card">
      <div class="section-title">Véhicule</div>
      <div class="kv">
        <div class="k">Modèle</div><div class="v">{{ vehicle.model or "—" }}</div>
        <div class="k">Détails</div><div class="v">{{ vehicle.name or "—" }}</div>
        <div class="k">Immatriculation</div><div class="v">{{ vehicle.plate or "—" }}</div>
        <div class="k">VIN</div><div class="v">{{ vehicle.vin or "—" }}</div>
      </div>
    </div>
  </div>

  <div class="grid2">
    <div class="card">
      <div class="section-title">Période & Lieux</div>
      <div class="kv">
        <div class="k">Du</div><div class="v">{{ rental.from or "—" }}</div>
        <div class="k">Au</div><div class="v">{{ rental.to or "—" }}</div>
        <div class="k">Livraison</div><div class="v">{{ rental.pickup or "—" }}</div>
        <div class="k">Restitution</div><div class="v">{{ rental.return or "—" }}</div>
      </div>
    </div>

    <div class="card">
      <div class="section-title">Tarifs / Caution</div>
      <div class="kv">
        <div class="k">Prix / jour</div><div class="v">{{ pricing.daily_price or "—" }} {{ pricing.currency }}</div>
        <div class="k">Caution</div><div class="v">{{ pricing.deposit or "—" }} {{ pricing.currency }}</div>
        <div class="k">Total estimé</div><div class="v">{{ pricing.total or "—" }} {{ pricing.currency }}</div>
      </div>
    </div>
  </div>

  <div class="card">
    <div class="section-title">Options</div>
    <div class="badges">
      <span class="badge">GPS : {{ "Oui" if options.gps else "Non" }}</span>
      <span class="badge">Chauffeur : {{ "Oui" if options.chauffeur else "Non" }}</span>
      <span class="badge">Siège bébé : {{ "Oui" if options.baby_seat else "Non" }}</span>
    </div>
  </div>

  <div class="card">
    <div class="section-title">État du véhicule</div>
    <table class="table">
      <tr>
        <th>Élément</th>
        <th>Départ</th>
        <th>Retour</th>
      </tr>
      <tr>
        <td>Kilométrage</td>
        <td>{{ mileage.km_out or "—" }}</td>
        <td>{{ mileage.km_in or "—" }}</td>
      </tr>
      <tr>
        <td>Carburant</td>
        <td>{{ fuel.out or "—" }}</td>
        <td>{{ fuel.in or "—" }}</td>
      </tr>
    </table>
  </div>

  {% if notes %}
  <div class="card note">
    <strong>Remarques :</strong><br />
    {{ notes }}
  </div>
  {% endif %}

  <div class="sig">
    <div class="sigbox">
      <div class="line"></div>
      <div class="small">Signature du client</div>
    </div>
    <div class="sigbox">
      <div class="line"></div>
      <div class="small">Signature de l’agence</div>
    </div>
  </div>

</body>
</html>

