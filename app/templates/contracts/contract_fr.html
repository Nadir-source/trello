<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Contrat de location - {{ company.name }}</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/contract_fr.css') }}">
</head>
<body>
  <header>
    <img src="{{ url_for('static', filename='images/logo.png') }}" alt="Logo" class="logo">
    <div class="header-text">
      <h1>{{ company.name }}</h1>
      <p>{{ company.address }}</p>
      <p>{{ company.phone1 }}{% if company.phone2 %} / {{ company.phone2 }}{% endif %}</p>
      <p>{{ company.email }}</p>
    </div>
  </header>

  <hr>

  <h2>Contrat de location de véhicule</h2>
  <p><strong>Référence :</strong> {{ ref or "—" }}</p>
  <p><strong>Date :</strong> {{ now_date or "—" }}</p>

  <section>
    <h3>Informations sur le locataire</h3>
    <table>
      <tr><th>Nom</th><td>{{ client.name or "—" }}</td></tr>
      <tr><th>Téléphone</th><td>{{ client.phone or "—" }}</td></tr>
      <tr><th>Adresse</th><td>{{ client.address or "—" }}</td></tr>
      <tr><th>Document</th><td>{{ client.doc_id or "—" }}</td></tr>
      <tr><th>Permis</th><td>{{ client.permit or "—" }}</td></tr>
    </table>
  </section>

  <section>
    <h3>Véhicule loué</h3>
    <table>
      <tr><th>Nom</th><td>{{ vehicle.name or "—" }}</td></tr>
      <tr><th>Modèle</th><td>{{ vehicle.model or "—" }}</td></tr>
      <tr><th>Immatriculation</th><td>{{ vehicle.plate or "—" }}</td></tr>
      <tr><th>VIN</th><td>{{ vehicle.vin or "—" }}</td></tr>
    </table>
  </section>

  <section>
    <h3>Période de location</h3>
    <table>
      <tr><th>Du</th><td>{{ rental.from or "—" }}</td></tr>
      <tr><th>Au</th><td>{{ rental.to or "—" }}</td></tr>
      <tr><th>Lieu de prise</th><td>{{ rental.pickup or "—" }}</td></tr>
      <tr><th>Lieu de retour</th><td>{{ rental.return or "—" }}</td></tr>
    </table>
  </section>

  <section>
    <h3>Tarification</h3>
    <table>
      <tr><th>Prix journalier</th><td>{{ pricing.daily_price or "—" }} {{ pricing.currency }}</td></tr>
      <tr><th>Caution</th><td>{{ pricing.deposit or "—" }} {{ pricing.currency }}</td></tr>
      <tr><th>Total</th><td>{{ pricing.total or "—" }} {{ pricing.currency }}</td></tr>
    </table>
  </section>

  <section>
    <h3>Options</h3>
    <ul>
      <li>GPS : {{ "Oui" if options.gps else "Non" }}</li>
      <li>Chauffeur : {{ "Oui" if options.chauffeur else "Non" }}</li>
      <li>Siège bébé : {{ "Oui" if options.baby_seat else "Non" }}</li>
    </ul>
  </section>

  <section>
    <h3>État du véhicule</h3>
    <table>
      <tr><th>Kilométrage départ</th><td>{{ mileage.km_out or "—" }}</td></tr>
      <tr><th>Kilométrage retour</th><td>{{ mileage.km_in or "—" }}</td></tr>
      <tr><th>Carburant départ</th><td>{{ fuel.out or "—" }}</td></tr>
      <tr><th>Carburant retour</th><td>{{ fuel.in or "—" }}</td></tr>
    </table>
  </section>

  <section>
    <h3>Observations</h3>
    <p>{{ notes or "—" }}</p>
  </section>

  <section class="signatures">
    <div>
      <p><strong>Signature du loueur</strong></p>
      <p>Fait à {{ sign.place }}, le {{ sign.date }}</p>
    </div>
    <div>
      <p><strong>Signature du locataire</strong></p>
      <p>Fait à {{ sign.place }}, le {{ sign.date }}</p>
    </div>
  </section>

  <footer>
    <p><small>
      Ce contrat engage les deux parties. Le locataire s'engage à respecter les conditions de location. Toute infraction, dommage ou usage abusif du véhicule pourra entraîner des frais supplémentaires. 
      En signant, vous reconnaissez avoir pris connaissance et accepté l'ensemble des conditions générales.
    </small></p>
  </footer>
</body>
</html>

